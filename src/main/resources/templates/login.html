<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Login</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script th:src="@{/js/passwordToggle.js}" defer></script>

</head>
<body>
<div class="container">
	<h2 class="mt-5">Iniciar Sesión</h2>
	<form th:action="@{/login}" method="post" class="mt-4">
		<div class="form-group">
			<label for="username">Correo Electrónico</label>
			<input type="text" id="username" name="username" class="form-control" required>
		</div>
		<div class="form-group">
			<label for="password">Contraseña</label>
			<div class="input-group">
				<input type="password" id="password" name="password" class="form-control" required>
				<button type="button" class="btn btn-outline-secondary"
								onclick="togglePasswordVisibility(
				        	'password',
				        	'passwordIcon'
				        )">
					<img id="passwordIcon" th:src="@{/img/hidepassword.png}" alt="Toggle Password" style="width: 20px; height: 20px;">
				</button>
			</div>
		</div>
		<div th:if="${param.error}" class="alert alert-danger">
			Usuario o contraseña inválidos.
		</div>
		<div th:if="${param.logout}" class="alert alert-warning">
			Has cerrado sesión correctamente.
		</div>
		<div th:if="${param.resetSuccess}" class="alert alert-warning">
			Tu contraseña ha sido restablecida exitosamente. Ahora puedes iniciar sesión con tu nueva contraseña.
		</div>

		<button type="submit" class="btn btn-primary">Iniciar Sesión</button>
	</form>
	<div>
		Olvidaste tu contraseña? <a href="/" th:href="@{/forgot-password}">Restablece la contraseña</a>
	</div>
</div>

</body>
</html>
